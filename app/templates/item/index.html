{% extends "base.html" %}
{% block navLinks %}
  <li class="nav-item">
    <a href="{{ url_for('category.allCategories') }}" class="nav-link">back</a>
  </li>
{% endblock %}
{% block mainContent %}
<div class="row justify-content-center">
  <div class="col-lg-6">
    <h5 class="text-muted text-center mb-3" >Create a new item for "{{ category.name }}"</h5>
    <div class="card mb-4">
      <form class="card-body card-body-form" action={{ url_for('item.createItem',
        category_id=category.id) }} enctype=multipart/form-data method="POST">
        <div class="input-group mb-3">
          <div
            class="col-12 mb-3 image-upload-preview"
            id="image-upload-preview"
            data-bind="click: openFileChooser">
          </div>
          <input
            type="file"
            class="form-control"
            id="image-input"
            name="image"
            data-bind="event: { change: displayImage }">
          <div class="input-group-append">
            <span class="input-group-text">
              Image
            </span>
          </div>
        </div>
        <div class="input-group mb-3">
          <input type="text" class="form-control" name="name">
          <div class="input-group-append">
            <span class="input-group-text">
              Name
            </span>
          </div>
        </div>
        <div class="form-group mb-3">
          <label class="font-weight-bold text-muted" for="description">Description</label>
          <textarea class="form-control" name="description" id="description" rows="3"></textarea>
        </div>
        <input class="btn btn-primary btn-lg btn-block" type="submit" value="CREATE">
      </form>
    </div>
    <a class="btn btn-outline-secondary btn-cancel btn-lg d-block mb-5" href={{ url_for('category.allCategories') }}>
      CANCEL
    </a>
  </div>
</div>
{% endblock %}
{% block scripts %}
  <script type="text/javascript">
    (function() {
      // set up CreateItemViewModel
      const createItemViewModel = new CreateItemViewModel()

      // applyBindings
      ko.applyBindings(createItemViewModel)
    })()
  </script>
{% endblock %}
